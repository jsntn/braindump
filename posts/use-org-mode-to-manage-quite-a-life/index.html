<!doctype html><html><title>Use Org-mode to manage quite a life</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=apple-mobile-web-app-capable content="yes"><link rel=stylesheet href=https://jason.haikebang.com/css/main.min.163f8b104f15c0527ea86e151ccc7fe2ad427b59b022dc405f0da025b6e371e9.css><body><header><a href=/ id=logo><svg id="Capa_1" enable-background="new 0 0 511.992 511.992" height="512" viewBox="0 0 511.992 511.992" width="512" xmlns="http://www.w3.org/2000/svg"><g><g><g><path d="m256 420.826c0 38.345-11.844 68.545-49.991 68.014-27.744-.385-51.481-15.31-61.853-39.46-1.239-2.887-4.024-4.734-7.154-4.725-.07.0-.135.0-.201.0-47.474.0-75.537-26.171-75.537-73.882.0-5.633.542-11.138 1.568-16.468.62-3.229-.825-6.489-3.671-8.125C23.668 325.748 10 300.053 10 255.997c0-44.057 13.668-69.757 49.161-90.185 2.846-1.636 4.291-4.896 3.671-8.13-1.026-5.33-1.568-10.83-1.568-16.463.0-47.711 28.064-73.882 75.537-73.882h.201c3.13.009 5.915-1.837 7.154-4.729 10.372-24.145 34.109-39.069 61.853-39.455C244.159 22.621 256 52.821 256 91.166" fill="#ff9eb1"/></g><g><g><g><path d="m256 91.166c0-38.344 11.844-68.545 49.991-68.014 27.744.385 51.481 15.31 61.853 39.46 1.239 2.887 4.024 4.734 7.154 4.724h.201c47.474.0 75.537 26.171 75.537 73.882.0 5.633-.542 11.138-1.568 16.468-.62 3.229.825 6.489 3.671 8.125C488.332 186.245 502 211.939 502 255.996s-13.668 69.756-49.161 90.185c-2.846 1.636-4.291 4.896-3.671 8.13 1.026 5.33 1.568 10.83 1.568 16.463.0 47.711-28.064 73.882-75.537 73.882h-.201c-3.13-.009-5.915 1.837-7.154 4.729-10.372 24.145-34.109 39.069-61.853 39.455-38.15.531-49.991-29.669-49.991-68.014" fill="#ff7d97"/></g></g><g><g><path d="m502 265.996c-4.193.0-7.984-2.713-9.407-6.636-1.419-3.912-.16-8.459 3.063-11.092 3.291-2.689 8.009-2.99 11.621-.758 3.568 2.205 5.404 6.578 4.478 10.669-1.02 4.501-5.126 7.817-9.755 7.817z"/></g></g></g><g><path d="m340.83 229.18h-58.013v-58.014h-53.634v58.014H171.17v53.633h58.013v58.013h53.634v-58.013h58.013z" fill="#faf7f5"/></g></g><g><g><path d="m498.468 291.859c-5.141-2.02-10.945.508-12.965 5.648-6.442 16.389-18.055 28.727-37.649 40.005-6.513 3.746-9.932 11.253-8.505 18.689.921 4.783 1.388 9.686 1.388 14.572.0 41.792-22.662 63.882-65.537 63.882h-.225c-.938.0-1.864.074-2.771.217-15.031-4.92-23.796-20.93-19.661-36.479 1.42-5.337-1.757-10.815-7.094-12.234-5.333-1.418-10.814 1.756-12.234 7.094-5.958 22.405 4.241 45.396 23.384 56.443-9.583 17.791-28.602 28.836-50.748 29.145-11.303.146-19.802-2.743-26.011-8.867-9.184-9.057-13.84-25.592-13.84-49.148v-70h16.816c5.522.0 10-4.477 10-10v-48.014h48.014c5.522.0 10-4.477 10-10V229.18c0-5.523-4.478-10-10-10h-48.014v-48.014c0-5.523-4.478-10-10-10H266v-70c0-23.555 4.657-40.09 13.841-49.148 6.21-6.123 14.696-9.022 26.011-8.867 23.862.332 44.096 13.132 52.803 33.405.218.509.458 1.003.719 1.483-3.225 8.243-9.084 15.093-16.833 19.574-8.993 5.2-19.465 6.581-29.485 3.89-5.337-1.434-10.819 1.73-12.251 7.064-1.433 5.334 1.729 10.819 7.063 12.252 5.074 1.363 10.221 2.037 15.338 2.037 10.2.0 20.272-2.681 29.346-7.928 11.083-6.408 19.607-16.017 24.616-27.575 41.6.67 63.569 22.718 63.569 63.866.0 4.89-.467 9.794-1.389 14.582-1.427 7.426 1.991 14.933 8.502 18.678 19.572 11.267 31.176 23.584 37.625 39.936 1.552 3.934 5.318 6.334 9.306 6.333 1.221.0 2.462-.225 3.666-.7 5.138-2.026 7.66-7.834 5.634-12.972-7.943-20.141-22.201-35.773-44.801-49.086.967-5.521 1.457-11.155 1.457-16.772.0-52.114-31.48-83.391-84.288-83.876-12.157-26.863-38.963-43.753-70.318-44.189-16.67-.232-30.255 4.688-40.332 14.625-3.813 3.76-7.08 8.226-9.797 13.382-2.717-5.156-5.984-9.622-9.797-13.382-10.075-9.937-23.668-14.852-40.333-14.625-31.353.437-58.158 17.325-70.32 44.189-52.807.485-84.286 31.762-84.286 83.876.0 5.617.49 11.253 1.458 16.771-37.422 22.031-52.724 50.552-52.724 98.008.0 47.451 15.299 75.969 52.721 98.006-.967 5.521-1.457 11.154-1.457 16.772.0 52.114 31.48 83.391 84.288 83.876 12.157 26.863 38.963 43.753 70.318 44.189.377.005.751.008 1.125.008 16.172.0 29.358-4.92 39.207-14.632 3.813-3.76 7.08-8.226 9.797-13.382 2.717 5.156 5.984 9.622 9.797 13.382 9.849 9.713 23.034 14.633 39.208 14.632.373.0.749-.003 1.125-.008 31.352-.436 58.158-17.325 70.32-44.189 52.807-.485 84.286-31.762 84.286-83.876.0-5.617-.49-11.253-1.458-16.772 22.634-13.329 36.901-28.989 44.838-49.178 2.022-5.14-.507-10.945-5.647-12.966zM282.816 239.18h48.014v33.633h-48.014c-5.522.0-10 4.477-10 10v48.014h-33.633v-48.014c0-5.523-4.477-10-10-10H181.17V239.18h48.014c5.523.0 10-4.477 10-10v-48.014h33.633v48.014c-.001 5.523 4.477 10 9.999 10zm-50.657 230.794c-6.21 6.124-14.717 9.018-26.011 8.867-23.862-.331-44.096-13.132-52.803-33.405-.218-.509-.458-1.003-.719-1.483 3.225-8.243 9.085-15.093 16.833-19.574 8.992-5.2 19.463-6.581 29.485-3.89 5.337 1.434 10.819-1.73 12.251-7.064 1.433-5.333-1.73-10.819-7.064-12.251-15.188-4.08-31.059-1.988-44.684 5.891-11.083 6.408-19.607 16.017-24.616 27.575-41.6-.67-63.569-22.718-63.569-63.866.0-4.89.467-9.794 1.389-14.582 1.427-7.427-1.991-14.934-8.502-18.678-32.183-18.528-44.149-40.621-44.149-81.517.0-40.9 11.966-62.994 44.146-81.517 6.513-3.746 9.932-11.253 8.505-18.689-.921-4.783-1.388-9.686-1.388-14.572.0-41.792 22.662-63.882 65.537-63.882h.225c.938.0 1.864-.074 2.771-.217 15.031 4.92 23.796 20.93 19.661 36.479-1.42 5.337 1.757 10.815 7.094 12.234.861.229 1.726.338 2.577.338 4.422.0 8.467-2.956 9.657-7.432 5.958-22.405-4.241-45.396-23.384-56.443 9.583-17.791 28.602-28.836 50.748-29.145 11.267-.15 19.801 2.743 26.011 8.867 9.184 9.057 13.84 25.592 13.84 49.148v70h-16.816c-5.522.0-10 4.477-10 10v48.014H171.17c-5.522.0-10 4.477-10 10v53.633c0 5.523 4.478 10 10 10h48.014v48.014c0 5.523 4.478 10 10 10H246v70c0 23.554-4.657 40.09-13.841 49.147z"/><path d="m139.699 228.227c-6.766.0-13.186 1.514-18.907 4.31-3.049-8.65-8.286-16.485-15.336-22.673-4.151-3.643-10.469-3.233-14.113.918-3.643 4.15-3.232 10.469.918 14.112 6.711 5.891 10.816 14.143 11.498 22.953-1.213 1.914-2.293 3.946-3.225 6.088-1.145 2.633-2.015 5.316-2.615 8.019-13.414 11.422-33.601 10.834-46.225-1.792-3.906-3.904-10.236-3.904-14.143.0-3.905 3.905-3.905 10.237.0 14.143 10.524 10.524 24.354 15.784 38.193 15.784 8.04.0 16.083-1.775 23.484-5.325 1.904 5.443 4.967 10.557 9.136 15.03.596.639 1.204 1.269 1.826 1.891 1.953 1.953 4.512 2.929 7.071 2.929 2.56.0 5.118-.976 7.071-2.929 3.905-3.905 3.905-10.237.0-14.143-.458-.458-.906-.922-1.342-1.389-6.26-6.716-7.799-15.778-4.118-24.241 2.878-6.616 9.86-13.686 20.826-13.686 5.522.0 10-4.477 10-10 .001-5.522-4.476-9.999-9.999-9.999z"/><path d="m387.667 287.543c-3.905 3.905-3.905 10.237.0 14.143 1.953 1.953 4.512 2.929 7.071 2.929s5.118-.976 7.071-2.929c.622-.622 1.23-1.253 1.83-1.896 4.167-4.471 7.229-9.583 9.133-15.025 7.401 3.549 15.444 5.324 23.484 5.324 13.839.0 27.67-5.261 38.193-15.784 3.905-3.905 3.905-10.237.0-14.143-3.906-3.904-10.236-3.904-14.143.0-12.624 12.625-32.811 13.214-46.225 1.792-.6-2.702-1.47-5.386-2.615-8.019-.932-2.142-2.012-4.175-3.225-6.088.682-8.81 4.787-17.062 11.498-22.953 4.15-3.644 4.561-9.962.918-14.112-3.646-4.151-9.964-4.563-14.113-.918-7.05 6.189-12.287 14.023-15.336 22.673-5.721-2.796-12.141-4.31-18.907-4.31-5.523.0-10 4.477-10 10s4.477 10 10 10c10.966.0 17.948 7.07 20.826 13.686 3.681 8.463 2.142 17.525-4.114 24.237-.44.47-.888.935-1.346 1.393z"/></g></g></g></svg></a><a href=/posts/><h3 class=site-title>Jason's Braindump</h3></a></header><div class=grid-container><div class=grid><div class=page data-level=1><div class=content><h1>Use Org-mode to manage quite a life</h1><p>《奇特的一生》是一本传记体小说，描述了俄罗斯科学家柳比歇夫如何运用时间统计法度过了他的一生。所谓时间统计法，说起来实在不起眼：统计自己做每件事情的纯时间，“工作中的任何间歇，我都要创除。我计算的是纯时间，”柳比歇夫写道，“纯时间要比毛时间少得多。所谓毛时间，就是你花在这项工作上的时间。” 柳比歇夫典型的时间统计日记是这样的：</p><ul><li>乌里扬诺夫斯克。1964 年 4 月 8 日。分类昆虫学：鉴定袋蛾，结束——2 小时 20 分。开始写关于袋蛾的报告——1 小时 5 分（1.0）。</li><li>附加工作：给达维陀娃和布里亚赫尔写信，6 页——3 小时 20 分（0.5）。</li><li>路途往返——0.5。</li><li>休息——剃胡子。《乌里扬诺夫斯克真理报》——15 分，《消息报》——10 分，《文学报》——20分；阿・托尔斯泰的《吸血鬼》，66 页——1 小时 30 分。听里姆斯基・柯萨科夫的《沙皇的未婚妻》。</li><li>基本工作合计——6 小时 45 分。</li></ul><p>其中记录了一天当中各项活动花费的“纯时间”，最后合计了第一类工作（科研活动）的时间。此外，每月和每年，柳比歇夫都对自己的时间统计日记进行进一步汇总统计，将自己时间的花费清楚明了地列于眼前。正是这样一个简单的方法帮助柳比歇夫实现了“奇特的一生”。通常，柳比歇夫每天能有七、八个小时的纯学术工作时间，最高纪录是十一小时三十分。</p><p>我们每个人一天的纯工作时间到底有多少呢？约摸估算一番，我想能达到柳比歇夫这个数字的少之又少。两小时？三小时？事实上，因为人对自己时间利用的估计是如此的不靠谱，实际的纯工作时间可能比你想像得还要少得多。物理学家 Michael Nielsen 在<a href=https://web.archive.org/web/20131018221023/http://michaelnielsen.org/blog/principles-of-effective-research/>一篇文章</a>中写道：</p><blockquote><p>一个同事曾告诉我，他的一个朋友在一段时间里用码表记录自己每周做研究工作的时间。令他震惊的是，除去每天当中他陷入的所有其他事情——中断，邮件，上网，电话，没成效的会议，和朋友聊天等，他平均每天只用了半小时在研究工作上。如果说这是许多研究者的典型情况，我并不对此感到意外。</p></blockquote><p>彼德・德鲁克在《卓有成效的管理者》中也谈到：</p><blockquote><p>某公司的董事长，十分肯定地对我说他的时间大致分成三个部分：1/3 用于与公司高级管理人员研讨业务；1/3 用于接待重要客户；其余 1/3 则用于参加各种社会活动。但是，等实际记录了六个星期之后，跟他原来的估计比较，结果发现在上述三个方面，他几乎没花什么时间……这份时间记录是由他的秘书记下来的，当秘书把记录送给他看时，他简直一点儿都不能相信。</p></blockquote><p>因此，看似简单的时间统计法恰恰蕴含了深刻的力量。唯有通过实际的统计数字，我们才能自知。我刚知道这个方法时，试过在纸上记录做每件事的起止时间，但总觉得统计起来麻烦。但事实上，不做统计，根本没法发挥这个方法的真正效果。</p><h2 id=org-mode-agenda>Org-mode Agenda</h2><p>为了使用 Org-mode 的日程表功能，首先需要把 <code>xxx.org</code> 加入到日程表文件中，例如
<code>todo.org</code>, 在配置文件（ <code>~/.emacs</code> ）中写入:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#666>(</span>setq org-agenda-files <span style=color:#666>(</span>list <span style=color:#4070a0>&#34;~/org/todo.org&#34;</span><span style=color:#666>))</span>
</code></pre></div><p>再绑定Org-mode日程表的快捷键，</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#666>(</span>global-set-key <span style=color:#4070a0>&#34;\C-ca&#34;</span> <span>&#39;</span>org-agenda<span style=color:#666>)</span>
</code></pre></div><p>这样按 <code>Ctrl-c a a</code> 就可以查看 Org-mode 的周日程表了。</p><p>之后就可以设置 TODO 项的 Schedule，该项在当日就会显示。</p><p>这样一来，在每天开始浏览一下所有的 TODO 项目，将今天需要完成的任务 Schedule 一下，一天中剩下的时间只要看 Day Agenda 就行了。</p><h2 id=计时>计时</h2><p>在 <code>todo.org</code> 中，移到一个条目上，按 <code>Ctrl-c Ctrl-x Ctrl-i</code> 即可对该条目开始计时，
<code>Ctrl-c Ctrl-x Ctrl-o</code> 停止当前计时。如果在 Agenda 中，移到条目按 <code>I</code> 即可对该条目开始计时， <code>O</code> 即可停止计时。对于已经对这些基本功能熟练的用户，还可使用以下技巧：</p><ul><li>用 <code>global-set-key</code> 把 <code>org-clock-in</code>, <code>org-clock-out</code>, <code>org-clock-cancel</code> 这三个功能绑定到全局功能下，这样就不用专门跑到一个 Org-mode 的 buffer 里计时了。</li><li>加前缀 <code>Ctrl-u</code> 再按 <code>Ctrl-c Ctrl-x Ctrl-i</code> ，可快速查看最近计时项目，进行快速计时。</li></ul><p>计时的重点是只计纯工作时间，只要没在工作就停止计时。对于不在电脑时候的工作，可以先在纸上记录，电脑在手时再补录到 todo.org 的相应时间记录中。</p><p>可以在 <code>todo.org</code> 的头部加入<code> #+PROPERTY: CLOCK_INTO_DRAWER
t</code>，这样，时间记录会放到一个名为 LOGBOOK 的抽屉中，平时看项目时并不展开，所以记录再多也不影响日常操作。</p><h2 id=tag>Tag</h2><p>为了便于统计，使统计信息有意义，有必要对任务进行分类。可以使用 Tag 实现分类，在
<code>todo.org</code> 的文件头部写下该文件支持的 Tag，如:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#60a0b0;font-style:italic>#+TAGS: { ACADEMIC(a) ENGLISH(e) SCHOOL(s) LEARNING(l) OUTPUT(p) OTHER(o) }</span>
</code></pre></div><p>其中括号内代表简写快捷键，对每个 TODO 任务，按 <code>Ctrl-c Ctrl-q</code> 即可赋符 Tag，这样就完成了任务的分类。默认设置中，Tag 是可以继承的，即子标题自动包含父标题中含有的 Tag。</p><h2 id=统计>统计</h2><p>Org mode can produce quite complex reports based on the time clocking
information. Such a report is called a clock table, it is formatted as one or
several Org tables.</p><p>Use <code>org-clock-report</code> to insert or update a clock table. When called with a
prefix argument, jump to the first clock table in the current document and
update it.</p><p>Here is an example of the frame for a clock table as it is inserted into the
buffer by org-clock-report:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#60a0b0;font-style:italic>#+BEGIN: clocktable :maxlevel 2 :emphasize nil :scope file</span>
<span style=color:#60a0b0;font-style:italic>#+END: clocktable</span>
</code></pre></div><p>The <code>#+BEGIN</code> line contains options to define the scope,
structure, and formatting of the report.</p><p>To get a clock summary of the current level 1 tree, for the current day, you
could write:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#60a0b0;font-style:italic>#+BEGIN: clocktable :maxlevel 2 :block today :scope tree1 :link t</span>
<span style=color:#60a0b0;font-style:italic>#+END: clocktable</span>
</code></pre></div><p>To get a clock summary of the current level 1 of the full current buffer, for
the current day, with a specific tag &lsquo;example&rsquo;, you could write:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#60a0b0;font-style:italic>#+BEGIN: clocktable :scope file :maxlevel 2 :block today :tags t :match &#34;example&#34;</span>
<span style=color:#60a0b0;font-style:italic>#+END: clocktable</span>
</code></pre></div><p>To get a clock summary of the current level 1 of the full current buffer, for
the this week, with a specific tag &lsquo;example&rsquo;, you could write:</p><div class=highlight><pre style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#60a0b0;font-style:italic>#+BEGIN: clocktable :scope file :maxlevel 2 :block thisweek :tags t :match &#34;example&#34;</span>
<span style=color:#60a0b0;font-style:italic>#+END: clocktable</span>
</code></pre></div><p>Read more -> <a href=https://orgmode.org/manual/The-clock-table.html>https://orgmode.org/manual/The-clock-table.html</a></p><h2 id=reference>Reference</h2><ul><li><a href=https://web.archive.org/web/20130821065055/http://www.mastermindcn.com/2012/02/org%5Fmode%5Fquite%5Fa%5Flife/>用 Org-mode 实践《奇特的一生》</a></li><li><a href=https://emacs-china.org/t/org-mode/12323/2>Org-mode 能否实现《奇特的一生》中时间统计功能</a></li><li><a href=https://stackoverflow.com/questions/38545767/org-mode-clock-table-by-tag>Org-mode clock table by tag</a></li></ul><h2 id=read-more>Read more</h2><ul><li><a href="https://news.ycombinator.com/item?id=23299993">Org Mode – Organize Your Life in Plain Text</a></li><li><a href=https://sachachua.com/blog/2008/01/tagging-in-org-plus-bonus-code-for-timeclocks-and-tags/>Tagging in Org – plus bonus code for timeclocks and tags!</a></li><li><a href=http://mpas.github.io/posts/2021/03/16/2021-03-16-time-tracking-with-org-mode-and-sum-time-per-tag/>Time tracking with Org Mode and sum time per tag</a></li></ul></div></div></div></div><script src=https://jason.haikebang.com/js/URI.js type=text/javascript></script><script src=https://jason.haikebang.com/js/page.js type=text/javascript></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script>document.addEventListener('keydown',function(a){a.keyCode==37&&(window.location.href='/posts/'),a.keyCode==39&&(window.location.href='/search/')})</script></body></html>